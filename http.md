[tcp、http](https://juejin.im/post/5ad4094e6fb9a028d7011069)
[图解HTTP 京东](http://item.jd.com/11449491.html)
[http mdn](https://developer.mozilla.org/zh-CN/docs/Web/HTTP)

# HTTP协议
## 请求报文的构成
请求报文是由请求方法、请求 URI、协议版本、可选的请求首部字段和内容实体构成的。
![](/assets/ES32`PN$F@HHPTUP$BE8WIM.png)
## 响应报文的构成
响应报文基本上由协议版本、状态码（表示请求成功或失败的数字代码）、用以解释状态码的原因短语、可选的响应首部字段以及实体主体构成
![](/assets/SY992L7G6G2RV8TSH.png)

## HTTP 是不保存状态的协议
HTTP协议是无状态协议,HTTP 协议自身不对请求和响应之间的通信状态进行保存.这是为了更快地处理大量事务，确保协议的可伸缩性，而特意把 HTTP 协议设计成如此简单的。HTTP/1.1 虽然是无状态协议，但为了实现期望的保持状态功能，于是引入了 Cookie 技术。有了 Cookie 再用 HTTP 协议通信，就可以管理状态了。
## 请求 URI 定位资源
HTTP 协议使用 URI 定位互联网上的资源。正是因为 URI 的特定功能，在互联网上任意位置的资源都能访问到
## 告知服务器意图的 HTTP 方法
**方法名区分大小写，注意要用大写字母。**
GET ：获取资源
    GET 方法用来请求访问已被 URI 识别的资源,restful 中可用来查询
POST：传输实体主体
    虽然用 GET 方法也可以传输实体的主体，但一般不用 GET 方法进行传输，而是用 POST 方法,restful 中可用来新增
PUT：传输文件
    PUT 方法用来传输文件。就像 FTP 协议的文件上传一样，要求在请求报文的主体中包含文件内容，然后保存到请求 URI 指定的位置,鉴于 HTTP/1.1 的 PUT 方法自身不带验证机制，任何人都可以上传文件 , 存在安全性问题因此一般的不使用该方法。restful 中可用来更新一个资源。或新增一个含 id 资源(如果 id 不存在)
DELETE：删除文件
    删除一个资源
HEAD：获得报文首部
OPTIONS：询问支持的方法
TRACE：追踪路径
## 持久连接节省通信量
HTTP 协议的初始版本中，每进行一次 HTTP 通信就要断开一次 TCP连接。
![](/assets/%23N756KC6KD6N9F0.png)
容量很小的文本传输，这样做也没有多大问题,但使用浏览器浏览一个包含多张图片的 HTML页面时，在发送请求访问 HTML页面资源的同时，也会请求该 HTML页面里包含的其他资源。因此，每次的请求都会造成无谓的 TCP 连接建立和断开，增加通信量的开销。
## 使用 Cookie 的状态管理
Cookie 会根据从服务器端发送的响应报文内的一个叫做 Set-Cookie 的首部字段信息，通知客户端保存 Cookie。当下次客户端再往该服务器发送请求时，客户端会自动在请求报文中加入 Cookie 值后发送出去。
服务器端发现客户端发送过来的 Cookie 后，会去检查究竟是从哪一个客户端发来的连接请求，然后对比服务器上的记录，最后得到之前的状态信息。

# http协议报文





